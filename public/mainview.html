<!-- Page -->
<div id="page">
    <!-- Loop over blocks -->
    <div class="block" style="{{ block.style }}" ng-repeat="block in blocks">
        <div class="block-title" ng-if="block.title">{{ block.title }}</div>
        <span ng-if="block.id == 0">
            Welcome {{ username }}!<br/>
            <a ng-click="showNew = !showNew" ng-mouseover="profile.message='Create a new profile'"><i class="fa fa-file-o"></i></a>&nbsp;
            <a ng-click="showEdit = !showEdit" ng-mouseover="profile.message='Switch to edit mode'"><i class="fa fa-pencil-square-o"></i></a>&nbsp;
            <a ng-click="showDuplicate = !showDuplicate" ng-mouseover="profile.message='Duplicate this profile'"><i class="fa fa-files-o"></i></a>
            <div ng-class="{'hidden': !showNew }">
                <input type='text' placeholder='Name' ng-model='newName'><br/>
                <input type='password' placeholder='Password' ng-model='newPwd'><br/>
                <input type='button' value='Ok' ng-click="onNew(newName, newPwd);">
            </div>
            <div ng-class="{'hidden': !showEdit }">
                <input type='password' placeholder='Password' ng-model='pwd'><br/>
                <input type='button' value='Ok' ng-click="editMode(pwd);">
            </div>
            <div ng-class="{'hidden': !showDuplicate }">
                <input type='text' placeholder='Name' ng-model='newName'><br/>
                <input type='password' placeholder='Password' ng-model='newPwd'><br/>
                <input type='button' value='Ok' ng-click="onDuplicate(duplicateName, newPwd);">
            </div>
            <br/><br/>
            <div ng-bind-html="profile.message"></div>
        </span>
        <ul ng-if="block.id != 0">
            <li ng-repeat="link in block.links">
                <a href="{{ link.url }}" ng-mouseover="profile.message=link.description">{{ link.title }}</a>
            </li>
        </ul>
    </div>
</div>
